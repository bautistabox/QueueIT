@{
    var teamList = ViewData["Teams"] as List<Team>;
    var queueList = ViewData["Queues"] as List<Queue>;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] - QueueIT</title>

    <environment include="Development">
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css"/>
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
              asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"
              crossorigin="anonymous"
              integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE="/>
    </environment>
    <link rel="stylesheet" href="~/css/site.css"/>
    <link rel="stylesheet" href="~/css/myStyles.css"/>
    <link rel="icon" href="~/favicon.png"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

</head>
<body class="background-grey">
<header>
    <nav class="navbar navbar-expand-sm background-dark-grey border-bottom">
        <div class="container">

            <div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse">
                <ul class="navbar-nav flex-grow-1">
                    <li class="nav-item">
                        <a class="nav-link thin shadow-lg" asp-area="" asp-controller="Account" asp-action="UserHome">
                            <img class="layout" src="~/home.png" alt=""/>
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                            <img class="layout" src="~/quickqlogo.png" alt=""/>
                        </a>
                        <div class="dropdown-menu background-grey shadow-lg">
                            <h4 class="dropdown-header">Quick-Q's</h4>
                            @if (queueList != null)
                            {
                                foreach (var queue in queueList)
                                {
                                    <form asp-action="Show" asp-controller="Queues"
                                          asp-route-queueId="@queue.Id" method="GET">
                                        <button class="dropdown-item secondary-text">@queue.Title</button>
                                    </form>
                                }
                            }
                        </div>
                    </li>
                    <li class="nav-item mx-auto secondary-text">
                        <img class="tall" src="~/QueueITCenterLogo.png" alt=""/>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link plus dropdown-toggle shadow-lg" data-toggle="dropdown">
                            <img class="layout" src="~/plus.png" alt=""/>
                        </a>
                        <div class="dropdown-menu background-grey shadow-lg">
                            <h4 class="dropdown-header">Create</h4>
                            <button class="dropdown-item create secondary-text" data-toggle="modal"
                                    data-target="#CreateTeamModal" aria-hidden="true">
                                <b>Create Team</b>
                                <br/>A Team is a group of people who own Queues
                            </button>
                            <div class="dropdown-divider"></div>
                            <button class="dropdown-item create secondary-text" data-toggle="modal"
                                    data-target="#CreateQueueModal" aria-hidden="true">
                                <b>Create Queue</b>
                                <br/>A Queue is a group of tasks that are owned by a Team
                            </button>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link thin dropdown-toggle shadow-lg" data-toggle="dropdown">
                            <img class="layout" src="~/Bell.png" alt=""/>
                        </a>
                        <div class="dropdown-menu background-grey shadow-lg">
                            <h4 class="dropdown-header">Notifications</h4>
                            <button class="dropdown-item secondary-text">TEST</button>
                            <div class="dropdown-divider"></div>
                            <button class="dropdown-item secondary-text">TEST</button>
                            <div class="dropdown-divider"></div>
                            <button class="dropdown-item secondary-text">TEST</button>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link thin dropdown-toggle shadow-lg" data-toggle="dropdown">
                            <div class="avatar-circle grow">
                                <span class="initials">AB</span>
                            </div>
                        </a>
                        <div class="dropdown-menu background-grey shadow-lg">
                            <h4 class="dropdown-header">Alex Bautista</h4>
                            <button class="dropdown-item secondary-text" type="button">Profile</button>
                            <button class="dropdown-item secondary-text" type="button">Settings</button>
                            <form asp-controller="Home" asp-action="Logout" method="post">
                                <button class="dropdown-item secondary-text" type="submit">Logout</button>
                            </form>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="container">
    <partial name="_CookieConsentPartial"/>
    <main role="main" class="pb-3">
        @RenderBody()
    </main>
</div>

<div class="modal fade" id="CreateTeamModal" tabindex="-1" role="dialog"
     aria-labelledby="CreateTeamModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content background-grey">
            <div class="modal-header">
                <h4 class="modal-title secondary-text" id="CreateTeamModalLabel">Create Team</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="close">
                    <span aria-hidden="true" class="primary-text">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <form asp-controller="Teams" asp-action="CreateTeam" method="POST">
                    <div class="form-group">
                        <label for="teamName" class="secondary-text">Team Name</label>
                        <input type="text" id="teamName" name="teamName" class="form-control modal-input" aria-describedby="teamNameHelp" placeholder="Enter team name"/>
                        <small id="teamNameHelp" class="form-text disabled-text">Choose a team name unique to yourself.</small>
                        <label for="teamDesc" class="secondary-text">Team Description</label>
                        <textarea id="teamDesc" name="desc" class="form-control modal-input" rows="6" cols="50" placeholder="Description (optional)"></textarea>
                    </div>
                    <button class="my-btn my-btn-primary right">Create Team</button>
                </form>
            </div>
            <div class="modal-footer">
                <small class="disabled-text">A Team is a group of people and their Queues. Work together to complete tasks and organize your workload!</small>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="CreateQueueModal" tabindex="-1" role="dialog"
     aria-labelledby="CreateQueueModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content background-grey">
            <div class="modal-header">
                <h4 class="modal-title primary-text" id="CreateQueueModalLabel">Create Queue</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="close">
                    <span aria-hidden="true" class="primary-text">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <form asp-controller="Queues" asp-action="CreateQueue" method="POST">
                    <div class="form-group">
                        <label for="queueTitle" class="secondary-text">Queue Title</label>
                        <input type="text" class="form-control modal-input" id="queueTitle" name="queueTitle" placeholder="Enter title"/>
                        <br/>
                        <label for="teamSelector" class="secondary-text">Select Team</label>
                        <div class="input-group">
                            <select class="custom-select" id="teamSelector" name="queueTeam" aria-describedby="teamSelectorHelp">
                                @if (teamList != null)
                                {
                                    foreach (var team in teamList)
                                    {
                                        <option value="@team.Id">@team.Name</option>
                                    }
                                }
                            </select>
                        </div>
                        <p>
                            <small id="teamSelectorHelp" class="form-text disabled-text">Choose the team that will own this Queue or choose to keep it personal.</small>
                        </p>

                        <label for="visibilitySelector" class="secondary-text">Select Visibility</label>
                        <div class="custom-radio-group" id="visibilitySelector" aria-describedby="visibilitySelectorHelp">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="queueVisibility" id="privateRadio" value="private" checked>
                                <label class="form-check-label secondary-text" for="privateRadio">Private</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="queueVisibility" id="publicRadio" value="public">
                                <label class="form-check-label secondary-text" for="publicRadio">Public</label>
                            </div>
                        </div>
                        <small id="visibilitySelectorHelp" class="primary-text disabled-text">Public means anyone who visits the team's profile can see this Queue.</small>
                    </div>
                    <button class="my-btn my-btn-primary" style="color: #ffffff !important">Create Queue</button>
                </form>
            </div>
            <div class="modal-footer">
                <small class="disabled-text">
                    A Queue is a group of tasks that can be organized into one of four columns:
                    <b>Todo</b>, <b>Doing</b>, <b>Done</b>, and <b>Blocked</b>.
                </small>
            </div>
        </div>
    </div>
</div>


<footer class="border-top footer disabled-text background-dark-grey">
    <div class="container">
        &copy; 2019 - QueueIT - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
    </div>
</footer>

<environment include="Development">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
</environment>
<environment exclude="Development">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
            asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
            asp-fallback-test="window.jQuery"
            crossorigin="anonymous"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"
            asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"
            asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
            crossorigin="anonymous"
            integrity="sha256-E/V4cWE4qvAeO5MOhjtGtqDzPndRO1LBk8lJ/PR7CA4=">
    </script>
</environment>
<script src="~/js/site.js" asp-append-version="true"></script>

@RenderSection("Scripts", required: false)
</body>
</html>